<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src\src.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../prettify.css">
    <link rel="stylesheet" href="../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">src\src.js</span></h1>
    <h2>
        Statements: <span class="metric">100% <small>(86 / 86)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">100% <small>(64 / 64)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">100% <small>(12 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(76 / 76)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">src/</a> &#187; src.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">106</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">440</span>
<span class="cline-any cline-yes">90</span>
<span class="cline-any cline-yes">350</span>
<span class="cline-any cline-yes">278</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">72</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">51</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">51</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">51</span>
<span class="cline-any cline-yes">38</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">36</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-yes">17</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">19</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-yes">8</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-yes">7</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">11</span>
<span class="cline-any cline-yes">10</span>
<span class="cline-any cline-yes">9</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">7</span>
<span class="cline-any cline-yes">7</span>
<span class="cline-any cline-yes">7</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span></td><td class="text"><pre class="prettyprint lang-js">function Poker() {}
&nbsp;
Poker.prototype.getHighestCard = function(hand, skipCards) {
	skipCards = skipCards || 0;
	Poker.sortHand(hand);
&nbsp;
	return hand[0+skipCards];
};
&nbsp;
Poker.sortHand = function(hand) {
	hand.sort(function(array1, array2) {
&nbsp;
		if(array1[0] &gt; array2[0]) {
			return -1;
		} else if(array1[0] &lt; array2[0]) {
			return 1;
		}
		return 0;
	});
};
&nbsp;
Poker.prototype.checkForMatches = function(hand, matches) {
	var matches = matches || {};
&nbsp;
	Poker.sortHand(hand);
&nbsp;
	if(hand.length &lt;= 1) return matches;
	else if(typeof(hand[1]) !== 'undefined' &amp;&amp; hand[0][0] === hand[1][0] &amp;&amp; typeof(hand[2]) !== 'undefined' &amp;&amp; hand[0][0] === hand[2][0]){
		matches['triple'] = hand[0][0]*3;
		return this.checkForMatches(hand.splice(3, hand.length-1), matches);
	}
	else if(typeof(hand[1]) !== 'undefined' &amp;&amp; hand[0][0] === hand[1][0]){
		if(typeof(matches.doubles) === 'undefined') matches.doubles = [];
		matches.doubles.push(hand[0][0]*2);
		return this.checkForMatches(hand.splice(2, hand.length-1), matches);
	}
	else return this.checkForMatches(hand.splice(1, hand.length-1), matches);
};
&nbsp;
Poker.prototype.checkForStraight = function(hand, sum){
	var sum = sum || 0;
	Poker.sortHand(hand);
&nbsp;
	if(hand.length &lt;= 1) return sum + hand[0][0];
	else if('undefined' !== typeof(hand[1]) &amp;&amp; (hand[0][0] - hand[1][0]) !== 1) return 0;
	else return this.checkForStraight(hand.splice(1, hand.length-1), sum + hand[0][0]);
};
&nbsp;
Poker.prototype.checkForFlush = function(subhand, color) {
	var color = color || subhand[0][1];
	Poker.sortHand(subhand);
&nbsp;
	if(subhand.length &lt;= 1) return subhand[0][0];
	else if(subhand[0][1] !== color) return 0;
	else return this.checkForFlush(subhand.splice(0, subhand.length-2, color));
};
&nbsp;
Poker.prototype.checkForFullHouse = function(hand) {
	var matches = this.checkForMatches(hand);
	if(matches.hasOwnProperty('doubles') &amp;&amp; matches.hasOwnProperty('triple')) return matches.triple;
	return 0;
};
&nbsp;
Poker.prototype.checkForFourOfAKind = function(hand, count) {
	Poker.sortHand(hand);
&nbsp;
	var count = count || 0;
	if(hand.length &lt; 1 &amp;&amp; count !== 3) return 0;
	else if(count === 3) return hand[0][0] * 4;
	else if(typeof(hand[1]) !== 'undefined' &amp;&amp; hand[0][0] === hand[1][0]) return this.checkForFourOfAKind(hand.splice(1, hand.length-1), ++count);
	return this.checkForFourOfAKind(hand.splice(1, hand.length-1));
};
&nbsp;
Poker.prototype.checkForStraightFlush = function(hand) {
	var handclone = hand.slice(0);
	var flush = this.checkForFlush(handclone);
	var straight = this.checkForStraight(hand);
&nbsp;
	if(flush &gt; 0 &amp;&amp; straight &gt; 0) {
		return this.getHighestCard(hand)[0];
	}
&nbsp;
	return 0;
};
&nbsp;
Poker.prototype.compareHighestCards = function(hand1, hand2){
	var highestCardFirstHand = [];
	var highestCardSecondHand = [];
&nbsp;
	for(var i = 0; i &lt; hand1.length; i++){
		highestCardFirstHand = this.getHighestCard(hand1, i);
		highestCardSecondHand = this.getHighestCard(hand2, i);
		if(highestCardFirstHand[0] &gt; highestCardSecondHand[0])
		{
			return {'hand': hand1, 'card': highestCardFirstHand};
		}
		else if(highestCardFirstHand[0] &lt; highestCardSecondHand[0]){
			return {'hand': hand2, 'card': highestCardSecondHand};
		}
	}
	return {};
};
&nbsp;
Poker.prototype.compareHighestPair = function(hand1, hand2) {
	var hand1Pair = this.checkForMatches(hand1.slice(0)).doubles[0];
	var hand2Pair = this.checkForMatches(hand2.slice(0)).doubles[0];
&nbsp;
	Poker.sortHand(hand1);
	Poker.sortHand(hand2);
&nbsp;
	if (hand1Pair &gt; hand2Pair) {
		return {'hand': hand1, 'score': hand1Pair / 2};
	} else if(hand1Pair &lt; hand2Pair) {
		return {'hand': hand2, 'score': hand2Pair / 2};
	}
&nbsp;
	return {};
};
&nbsp;
module.exports = Poker;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Mar 27 2015 18:34:35 GMT+0100 (Mitteleuropäische Zeit)</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
